import D from"./BwAYwIlX.js";import{_ as I}from"./Bbp4ScdP.js";import P from"./G-kcJNiN.js";import{l as H,k as b,g as V,h as v,o as a,w as E,x as y,T as J,B as R,C as q,D as G,i as K,j as L,J as U,G as M,m as Q,K as A,a as B,y as l,c as p,f as u,v as O,d as z,t as j,F,r as N,I as T,Q as W}from"./BY_xM9xD.js";import{u as X}from"./DmW5aSqy.js";import{g as Y}from"./8k3q0MdO.js";import{_ as Z}from"./DlAUqK2U.js";import"./DWbajhXN.js";import"./BnOhZyty.js";import"./JGUCtq4R.js";import"./CfIzpCDP.js";import"./Cl2SVslI.js";import"./DWG_RtzX.js";import"./CHOj1P8S.js";const _={wrapper:"w-full pointer-events-auto",container:"relative overflow-hidden",inner:"w-0 flex-1",title:"text-sm font-medium text-gray-900 dark:text-white",description:"mt-1 text-sm leading-4 text-gray-500 dark:text-gray-400",actions:"flex items-center gap-2 mt-3 flex-shrink-0",background:"bg-white dark:bg-gray-900",shadow:"shadow-lg",rounded:"rounded-lg",padding:"p-4",gap:"gap-3",ring:"ring-1 ring-gray-200 dark:ring-gray-800",icon:{base:"flex-shrink-0 w-5 h-5",color:"text-{color}-500 dark:text-{color}-400"},avatar:{base:"flex-shrink-0 self-center",size:"md"},progress:{base:"absolute bottom-0 end-0 start-0 h-1",background:"bg-{color}-500 dark:bg-{color}-400"},transition:{enterActiveClass:"transform ease-out duration-300 transition",enterFromClass:"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2",enterToClass:"translate-y-0 opacity-100 sm:translate-x-0",leaveActiveClass:"transition ease-in duration-100",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"},default:{color:"primary",icon:null,timeout:5e3,closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"link",padded:!1},actionButton:{size:"xs",color:"white"}}};function x(e,r,i){let c=null;const{pause:t,resume:k,timestamp:f}=Y({controls:!0}),s=H(null),d=b(()=>s.value?r-(f.value-s.value):0);function o(...n){c=setTimeout(()=>{c=null,s.value=null,e(...n)},d.value)}function m(){c&&(clearTimeout(c),c=null)}function g(){s.value=Date.now(),o()}function w(){m(),t()}function $(){m(),t()}function h(){o(),k(),s.value=(s.value||0)+(Date.now()-f.value)}return g(),{start:g,stop:w,pause:$,resume:h,remaining:d}}const C=R(M.ui.strategy,M.ui.notification,_),ee=V({components:{UIcon:D,UAvatar:I,UButton:P},inheritAttrs:!1,props:{id:{type:[String,Number],required:!0},title:{type:String,default:null},description:{type:String,default:null},icon:{type:String,default:()=>C.default.icon},avatar:{type:Object,default:null},closeButton:{type:Object,default:()=>C.default.closeButton},timeout:{type:Number,default:()=>C.default.timeout},actions:{type:Array,default:()=>[]},callback:{type:Function,default:null},color:{type:String,default:()=>C.default.color,validator(e){return["gray",...M.ui.colors].includes(e)}},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},pauseTimeoutOnHover:{type:Boolean,default:!0}},emits:["close"],setup(e,{emit:r}){const{ui:i,attrs:c}=X("notification",q(e,"ui"),C);let t=null;const k=H(e.timeout),f=b(()=>{var n,S;return U(A(i.value.wrapper,(n=i.value.background)==null?void 0:n.replaceAll("{color}",e.color),i.value.rounded,i.value.shadow,(S=i.value.ring)==null?void 0:S.replaceAll("{color}",e.color)),e.class)}),s=b(()=>{var n;return A(i.value.progress.base,(n=i.value.progress.background)==null?void 0:n.replaceAll("{color}",e.color))}),d=b(()=>({width:`${k.value/e.timeout*100||0}%`})),o=b(()=>{var n;return A(i.value.icon.base,(n=i.value.icon.color)==null?void 0:n.replaceAll("{color}",e.color))});function m(){e.pauseTimeoutOnHover&&t&&t.pause()}function g(){e.pauseTimeoutOnHover&&t&&t.resume()}function w(){t&&t.stop(),e.callback&&e.callback(),r("close")}function $(n){t&&t.stop(),n.click&&n.click(),r("close")}function h(){t&&t.stop(),e.timeout&&(t=x(()=>{w()},e.timeout),Q(()=>{k.value=t.remaining.value}))}return G(()=>e.timeout,h),K(h),L(()=>{t&&t.stop()}),{ui:i,attrs:c,wrapperClass:f,progressClass:s,progressStyle:d,iconClass:o,onMouseover:m,onMouseleave:g,onClose:w,onAction:$,twMerge:U}}});function te(e,r,i,c,t,k){const f=D,s=I,d=P;return a(),v(J,y({appear:""},e.ui.transition),{default:E(()=>[B("div",y({class:e.wrapperClass,role:"status"},e.attrs,{onMouseover:r[0]||(r[0]=(...o)=>e.onMouseover&&e.onMouseover(...o)),onMouseleave:r[1]||(r[1]=(...o)=>e.onMouseleave&&e.onMouseleave(...o))}),[B("div",{class:l([e.ui.container,e.ui.rounded,e.ui.ring])},[B("div",{class:l(["flex",[e.ui.padding,e.ui.gap,{"items-start":e.description||e.$slots.description,"items-center":!e.description&&!e.$slots.description}]])},[e.icon?(a(),v(f,{key:0,name:e.icon,class:l(e.iconClass)},null,8,["name","class"])):u("",!0),e.avatar?(a(),v(s,y({key:1},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):u("",!0),B("div",{class:l(e.ui.inner)},[e.title||e.$slots.title?(a(),p("p",{key:0,class:l(e.ui.title)},[O(e.$slots,"title",{title:e.title},()=>[z(j(e.title),1)])],2)):u("",!0),e.description||e.$slots.description?(a(),p("div",{key:1,class:l(e.twMerge(e.ui.description,!e.title&&!e.$slots.title&&"mt-0 leading-5"))},[O(e.$slots,"description",{description:e.description},()=>[z(j(e.description),1)])],2)):u("",!0),(e.description||e.$slots.description)&&e.actions.length?(a(),p("div",{key:2,class:l(e.ui.actions)},[(a(!0),p(F,null,N(e.actions,(o,m)=>(a(),v(d,y({key:m,ref_for:!0},{...e.ui.default.actionButton||{},...o},{onClick:T(g=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128))],2)):u("",!0)],2),e.closeButton||!e.description&&!e.$slots.description&&e.actions.length?(a(),p("div",{key:2,class:l(e.twMerge(e.ui.actions,"mt-0"))},[!e.description&&!e.$slots.description&&e.actions.length?(a(!0),p(F,{key:0},N(e.actions,(o,m)=>(a(),v(d,y({key:m,ref_for:!0},{...e.ui.default.actionButton||{},...o},{onClick:T(g=>e.onAction(o),["stop"])}),null,16,["onClick"]))),128)):u("",!0),e.closeButton?(a(),v(d,y({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{onClick:T(e.onClose,["stop"])}),null,16,["onClick"])):u("",!0)],2)):u("",!0)],2),e.timeout?(a(),p("div",{key:0,class:l(e.progressClass),style:W(e.progressStyle)},null,6)):u("",!0)],2)],16)]),_:3},16)}const ve=Z(ee,[["render",te]]);export{ve as default};
